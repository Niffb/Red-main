<div id="settings-window" class="window" style="display: none;">
    <div class="account-settings-container">
        <div class="account-settings-header">
            <div class="account-header-content">
                <div class="account-avatar" id="account-avatar">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                </div>
                <div class="account-header-info">
                    <h2 id="account-name">Not Signed In</h2>
                    <p id="account-email">Please sign in to continue</p>
                </div>
            </div>
            <div class="account-status" id="account-status">
                <span class="status-indicator"></span>
                <span class="status-text">Free Plan</span>
            </div>
        </div>

        <div class="account-settings-content">
            <!-- Login Form (shown by default when not signed in) -->
            <div id="settings-login-form" style="max-width: 420px; margin: 40px auto; padding: 32px 28px; background: rgba(30, 30, 30, 0.6); border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.08);">
                <h3 style="text-align: center; margin: 0 0 24px 0; font-size: 20px; font-weight: 600; color: rgba(255, 255, 255, 0.9);">Sign In to Continue</h3>
                
                <div style="margin-bottom: 16px;">
                    <input type="email" id="settings-login-email" 
                        style="width: 100%; padding: 11px 14px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: rgba(255, 255, 255, 0.9); font-size: 14px; outline: none; transition: all 0.2s;"
                        placeholder="Email address" 
                        onfocus="this.style.borderColor='rgba(239, 68, 68, 0.4)'; this.style.background='rgba(255, 255, 255, 0.08)';"
                        onblur="this.style.borderColor='rgba(255, 255, 255, 0.1)'; this.style.background='rgba(255, 255, 255, 0.05)';"
                        onkeypress="if(event.key === 'Enter') handleSettingsLogin()"
                        required>
                </div>

                <div style="margin-bottom: 16px;">
                    <input type="password" id="settings-login-password" 
                        style="width: 100%; padding: 11px 14px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: rgba(255, 255, 255, 0.9); font-size: 14px; outline: none; transition: all 0.2s;"
                        placeholder="Password"
                        onfocus="this.style.borderColor='rgba(239, 68, 68, 0.4)'; this.style.background='rgba(255, 255, 255, 0.08)';"
                        onblur="this.style.borderColor='rgba(255, 255, 255, 0.1)'; this.style.background='rgba(255, 255, 255, 0.05)';"
                        onkeypress="if(event.key === 'Enter') handleSettingsLogin()"
                        required>
                </div>

                <div id="settings-login-error" style="display: none; color: #ef4444; font-size: 12px; margin-bottom: 14px; text-align: center; padding: 8px; background: rgba(239, 68, 68, 0.1); border-radius: 4px; border: 1px solid rgba(239, 68, 68, 0.2);"></div>

                <button id="settings-login-btn" 
                    onclick="console.log('ðŸ”¥ ONCLICK FIRED!'); handleSettingsLogin(); return false;"
                    style="width: 100%; padding: 12px; background: #ef4444; border: none; border-radius: 6px; color: white; font-weight: 600; font-size: 14px; cursor: pointer; transition: all 0.2s;"
                    onmouseover="this.style.background='#dc2626';"
                    onmouseout="this.style.background='#ef4444';">
                    Sign In
                </button>

                <div style="text-align: center; margin-top: 16px;">
                    <p style="font-size: 12px; color: rgba(255, 255, 255, 0.4); margin: 0;">
                        Don't have an account? Go to Subscription tab.
                    </p>
                </div>
            </div>

            <div class="account-section" style="display: none;">
                <h3 class="account-section-title">Subscription Details</h3>
                <div class="subscription-card" id="subscription-card">
                    <div class="subscription-info">
                        <div class="subscription-tier" id="subscription-tier">Free Plan</div>
                        <div class="subscription-status" id="subscription-status">Active</div>
                    </div>
                    <div class="subscription-details">
                        <div class="subscription-detail">
                            <span class="detail-label">Messages Used</span>
                            <span class="detail-value" id="messages-used">0 / âˆž</span>
                        </div>
                        <div class="subscription-detail">
                            <span class="detail-label">Transcriptions</span>
                            <span class="detail-value" id="transcriptions-used">0</span>
                        </div>
                        <div class="subscription-detail">
                            <span class="detail-label">Storage Used</span>
                            <span class="detail-value" id="storage-used">0 MB</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="account-section" style="display: none;">
                <h3 class="account-section-title">Account Actions</h3>
                <div class="account-actions">
                    <button class="account-btn primary" id="save-changes-btn" style="display: none;">
                        Save Changes
                    </button>
                    <button class="account-btn secondary" id="cancel-changes-btn" style="display: none;">
                        Cancel
                    </button>
                    <button class="account-btn" id="refresh-account-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23 4 23 10 17 10"/>
                            <polyline points="1 20 1 14 7 14"/>
                            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                        </svg>
                        Refresh Account
                    </button>
                    <button class="account-btn secondary" id="logout-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                            <polyline points="16 17 21 12 16 7"/>
                            <line x1="21" y1="12" x2="9" y2="12"/>
                        </svg>
                        Log Out
                    </button>
                    <button class="account-btn danger" id="delete-account-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 6 5 6 21 6"/>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                            <line x1="10" y1="11" x2="10" y2="17"/>
                            <line x1="14" y1="11" x2="14" y2="17"/>
                        </svg>
                        Delete Account
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>